@page "/Admin/Activities"
@model ICEDT_TamilApp.Web.Pages.Admin.ActivitiesModel
@{
    ViewData["Title"] = "Manage Activities";
}

<link rel="stylesheet" href="~/css/admin.css" />

<div class="admin-container">
    <div class="d-flex justify-content-between align-items-center">
        <h1 class="admin-header mb-0">Manage Activities for: <span id="lessonNameHeader">Loading...</span></h1>

        @* The "Add New" button will navigate to the new Edit/Add page *@
        <a id="addNewActivityBtn" class="btn btn-success" href="#">
            <i class="fas fa-plus"></i> Add New Activity
        </a>
    </div>
    <a href="/Admin/Lessons" class="mt-2 d-inline-block">‚Üê Back to Lessons</a>

    <div class="table-responsive">
        <table class="table table-bordered table-striped" id="activitiesTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Order</th>
                    <th>Content (JSON)</th>
                    <th>Activity Type ID</th>
                    <th>Main Activity ID</th>
                    <th class="actions-column">Actions</th>
                </tr>
            </thead>
            <tbody id="tableBody">
            </tbody>
            <tfoot id="newEntryTfoot" style="display: none;">
                <tr class="new-entry-row">
                    <td>(New)</td>
                    <td><input type="text" id="newTitle" class="form-control" placeholder="Activity Title"></td>
                    <td><input type="number" id="newOrder" class="form-control" placeholder="Order"></td>
                    <td><textarea id="newContentJson" class="form-control" placeholder='{ "key": "value" }'
                            rows="3"></textarea></td>
                    <td><input type="number" id="newActivityTypeId" class="form-control" placeholder="Type ID"></td>
                    <td><input type="number" id="newMainActivityId" class="form-control" placeholder="Main ID"></td>
                    <td class="actions-column">
                        <button class="btn btn-sm btn-success btn-save-new">Save</button>
                        <button class="btn btn-sm btn-secondary btn-cancel-new">Cancel</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>

    <div id="backButtonContainer" class="mt-3"></div>
</div>

@section Scripts {
    <script src="~/js/admin/activities.js"></script>
}