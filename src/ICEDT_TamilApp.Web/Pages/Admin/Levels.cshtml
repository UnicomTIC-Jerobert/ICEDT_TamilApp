@page "/Admin/Levels"
@model ICEDT_TamilApp.Web.Pages.Admin.LevelsModel
@{
    ViewData["Title"] = "Manage Levels";
}

<link rel="stylesheet" href="~/css/admin.css" />

<div class="admin-container">
    <div class="d-flex justify-content-between align-items-center">
        <h1 class="admin-header mb-0">Manage Levels</h1>

        @* --- NEW: ADD BUTTON --- *@
        <button class="btn btn-success" id="addNewLevelBtn">
            <i class="fas fa-plus"></i> Add New Level
        </button>
    </div>

    <p class="admin-description">Click "Add New Level" to add an entry. Click "Edit" to modify an existing row.</p>

    <div class="table-responsive">
        <table class="table table-bordered table-striped" id="levelsTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Level Name</th>
                    <th>Sequence Order</th>
                    <th>Lessons</th>
                    <th class="actions-column">Actions</th>
                </tr>
            </thead>
            <tbody id="levelsTableBody">
                <!-- Rows will be dynamically inserted here by JavaScript -->
            </tbody>

            @* --- NEW: TFOOT FOR NEW ENTRY TEMPLATE --- *@
            <tfoot id="newLevelTfoot" style="display: none;">
                <tr class="new-entry-row">
                    <td>(New)</td>
                    <td><input type="text" id="newLevelName" class="form-control" placeholder="Enter level name"></td>
                    <td><input type="number" id="newLevelOrder" class="form-control" placeholder="Enter sequence"></td>
                    <td class="actions-column">
                        <button class="btn btn-sm btn-success btn-save-new">Save</button>
                        <button class="btn btn-sm btn-secondary btn-cancel-new">Cancel</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

@* To use the plus icon, you might need a Font Awesome CDN link in your _Layout.cshtml *@
@* <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" /> *@

@section Scripts {
    <script src="~/js/admin/levels.js"></script>
}